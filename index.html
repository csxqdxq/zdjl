<!doctype html>
<!-- 模板渲染页面 -->
<html lang="Zh-cn">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <script>
        const key = params.get('key');
        if(key==null) key="csxqdxq";
        function save(obj) {
            let str = encodeURI(JSON.stringify(obj));
            let base64 = btoa(str);
            localStorage.setItem(key,base64);
        }
    </script>
</head>
<body>
<div id="app"></div>
</body>
<script>
    const paramsStr = window.location.search;
    const params = new URLSearchParams(paramsStr);
    const title = params.get('title');
    const script = params.get('script');
    const style = params.get('style');
    const html = params.get('html');
    console.log(title)
    if(title!=null){
        document.title = title;
    }
    if (style!=null){
        let htmlStyleElement = document.createElement("style");
        htmlStyleElement.innerText = style;
        document.head.appendChild(htmlStyleElement);
    }
    let elementById = document.getElementById("app");
    if (html!=null){
        elementById.innerHTML = html;
    }else {
        elementById.innerHTML = "没有模板";
    }
    if (script!=null){
        let htmlScriptElement = document.createElement("script");
        htmlScriptElement.innerText = script;
        document.body.appendChild(htmlScriptElement);
    }
</script>
</html>
